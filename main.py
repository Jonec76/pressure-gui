import matplotlib.pyplot as plt
import imageio

x = [1]
y = [1]

def onclick(event):
    global ctr
    ctr = (ctr + 1)%3
    width = [23, 41, 46, 51, 55, 60, 65, 83,
          8, 23, 38, 48, 58, 68, 83, 98,
          8, 23, 38, 48, 58, 68, 83, 98,
          8, 23, 38, 48, 58, 68, 83, 98,
          8, 23, 38, 48, 58, 68, 83, 98,
          8, 23, 38, 48, 58, 68, 83, 98,
          8, 23, 38, 48, 58, 68, 83, 98]
    length = [173, 173, 173, 173, 173, 173, 173, 173,
            143, 143, 143, 143, 143, 143, 143, 143,
            137, 137, 137, 137, 137, 137, 137, 137,
            84,  84,  84,  84,  84,  84,  84,  84,
            78,  78,  78,  78,  78,  78,  78,  78,
            62,  62,  62,  62,  62,  62,  62,  62,
            21,  21,  21,  21,  21,  21,  21,  21]
    if ctr==0:
        production = [0, 0, 0, 77, 878,   0, 0, 0,
                      0, 0, 0,  0,   0,   0, 0, 0,
                      0, 0, 0,  0,   0, 409, 0, 0,
                      0, 0, 0,  0, 732, 528, 0, 0,
                      0, 0, 0,  0,   0,   0, 0, 0,
                      0, 0, 1,  0,   0,   0, 0, 0,
                      0, 0, 0,  0,   0,   0, 0, 0]
    if ctr==1:
        production = [0, 0, 540,   0,   0, 0, 0, 0,
                      0, 0,   0,   0,   0, 0, 0, 0,
                      0, 0, 478,   0,   0, 0, 0, 0,
                      1, 0, 902, 847, 502, 0, 0, 0,
                      0, 0,   0,   0,   0, 0, 0, 0,
                      0, 0,   0,   0,   0, 0, 0, 0,
                      0, 0,   0,   0,   0, 0, 0, 0]
    if ctr==2:
        production = [  0, 284, 0, 1, 0, 0, 0, 0,
                        0, 779, 0, 0, 0, 0, 0, 0,
                        0,   0, 0, 0, 0, 0, 0, 0,
                      742, 925, 0, 0, 0, 1, 0, 0,
                      698,   0, 1, 0, 0, 0, 0, 0,
                        0,   0, 0, 0, 0, 0, 1, 1,
                        0,   0, 0, 0, 0, 0, 0, 1]
    #clear frame
    cm = plt.cm.get_cmap('OrRd')
    plt.clf()
    img = imageio.imread('直立.jpg')
    sc = plt.scatter(width, length, c=production, s=production, alpha=0.6, vmin=0, vmax=1023, cmap=cm)
    plt.imshow(img, zorder = 0, extent = [0, 106, 0, 190], aspect = 'auto')
    plt.colorbar(sc)
    plt.draw() #redraw



production = [0, 0, 0,  0, 878,   0, 0, 0,
              0, 0, 0,  0,   0,   0, 0, 0,
              0, 0, 0,  0,   0,   0, 0, 0,
              0, 0, 0,  0,   0,   0, 0, 0,
              0, 0, 0,  0,   0,   0, 0, 0,
              0, 0, 0,  0,   0,   0, 0, 0,
              0, 0, 0,  0,   0,   0, 0, 0]
width = [23, 41, 46, 51, 55, 60, 65, 83,
          8, 23, 38, 48, 58, 68, 83, 98,
          8, 23, 38, 48, 58, 68, 83, 98,
          8, 23, 38, 48, 58, 68, 83, 98,
          8, 23, 38, 48, 58, 68, 83, 98,
          8, 23, 38, 48, 58, 68, 83, 98,
          8, 23, 38, 48, 58, 68, 83, 98]
length = [173, 173, 173, 173, 173, 173, 173, 173,
          143, 143, 143, 143, 143, 143, 143, 143,
          137, 137, 137, 137, 137, 137, 137, 137,
           84,  84,  84,  84,  84,  84,  84,  84,
           78,  78,  78,  78,  78,  78,  78,  78,
           62,  62,  62,  62,  62,  62,  62,  62,
           21,  21,  21,  21,  21,  21,  21,  21]
cm = plt.cm.get_cmap('OrRd')
fig,ax=plt.subplots()
img = imageio.imread('直立.jpg')
sc = ax.scatter(width, length, c=production, s=production, alpha=0.6, vmin=0, vmax=1023, cmap=cm)
ax.imshow(img, zorder = 0, extent = [0, 106, 0, 190], aspect = 'auto')
plt.colorbar(sc)

fig.canvas.mpl_connect('button_press_event',onclick)
ctr= 0 
plt.show()
plt.draw()